const axios = require("axios");

module.exports = {
  config: {
    name: "autoIslamicStory",
    version: "1.0.0",
    hasPermssion: 0,
    credits: "Naim",
    description: "Auto responds with Islamic motivational stories ЁЯТЪ",
    commandCategory: "Islamic",
    usages: "",
    cooldowns: 5
  },

  // onMessage hook ржпрзЗржЯрж╛ bot framework ржерзЗржХрзЗ call рж╣ржмрзЗ
  onMessage: async function({ api, event }) {
    try {
      if (!event.body) return;

      const msg = event.body.toLowerCase();
      // ржпрзЗржЗ keywords ржжрж┐рж▓рзЗ response ржпрж╛ржмрзЗ
      const keywords = ["ржЧрж▓рзНржк", "islamic golpo", "motivation", "islamic story"];

      // keyword match check
      const found = keywords.some(k => msg.includes(k.toLowerCase()));
      if (!found) return;

      const stories = [
`ЁЯМ┐ ржЧрж▓рзНржк рзз: ржзрзИрж░рзНржпрзЗрж░ ржЖрж▓рзЛ

рж╣ржпрж░ржд ржЖржЗржпрж╝рзБржм (ржЖ.) ржмрж╣рзБ ржХрж╖рзНржЯрзЗрж░ ржкрж░ржУ ржЖрж▓рзНрж▓рж╛рж╣рж░ ржЙржкрж░ ржнрж░рж╕рж╛ рж╣рж╛рж░рж╛ржиржирж┐ред
рж╕ржм рж╣рж╛рж░рж┐ржпрж╝рзЗржУ ржмрж▓рждрзЗржитАФ тАЬржЖрж▓рзНрж▓рж╛рж╣ржЗ ржпржерзЗрж╖рзНржЯредтАЭ
рж╢рзЗрж╖рзЗ ржЖрж▓рзНрж▓рж╛рж╣ рждрж╛ржБржХрзЗ ржжрзНржмрж┐ржЧрзБржг ржирзЗржпрж╝рж╛ржоржд ржжрж╛ржи ржХрж░рзЗржиред

ЁЯТЪ рж╢рж┐ржХрзНрж╖рж╛: ржХрж╖рзНржЯрзЗрж░ ржкрж░рзЗржЗ рж╕рзНржмрж╕рзНрждрж┐ ржЖрж╕рзЗред`,

`ЁЯМ╕ ржЧрж▓рзНржк рзи: ржХрзНрж╖ржорж╛рж░ ржорж╣рж┐ржорж╛

рж╣ржпрж░ржд ржорзБрж╣рж╛ржорзНржоржж (рж╕рж╛.) ржХрж╛ржБржЯрж╛ ржлрзЗрж▓рж╛ ржмрзГржжрзНржзрж╛ржХрзЗ рж╢рж╛рж╕рзНрждрж┐ ржирж╛ ржжрж┐ржпрж╝рзЗ ржЦрзЛржБржЬ ржирж┐рждрзЗ ржЧрж┐ржпрж╝рзЗржЫрж┐рж▓рзЗржиред
ржнрж╛рж▓рзЛржмрж╛рж╕рж╛ ржжрж┐ржпрж╝рзЗ рждрж┐ржирж┐ рж╣рзГржжржпрж╝ ржЬржпрж╝ ржХрж░рзЗржЫрж┐рж▓рзЗржиред

ЁЯТЪ рж╢рж┐ржХрзНрж╖рж╛: рж░рж╛ржЧ ржиржпрж╝, ржжржпрж╝рж╛ рж╕ржмржЪрзЗржпрж╝рзЗ ржмржбрж╝ рж╢ржХрзНрждрж┐ред`,

`ЁЯМК ржЧрж▓рзНржк рзй: рж╕рж╛ржЧрж░рзЗрж░ ржнрж░рж╕рж╛

рж╣ржпрж░ржд ржорзВрж╕рж╛ (ржЖ.) ржпржЦржи рж╕рж╛ржЧрж░рзЗрж░ рж╕рж╛ржоржирзЗ ржжрж╛ржБржбрж╝рж╛рж▓рзЗржи, ржкрж┐ржЫржирзЗ рж╢рждрзНрж░рзБтАФ
рждржЦржи ржмрж▓рж▓рзЗржи, тАЬржЖржорж╛рж░ рж░ржм ржЖржорж╛рж░ рж╕рж╛ржерзЗ ржЖржЫрзЗржиредтАЭ
ржЖрж▓рзНрж▓рж╛рж╣ рж╕рж╛ржЧрж░ ржжрзНржмрж┐ржЦржгрзНржбрж┐ржд ржХрж░рж▓рзЗржиред

ЁЯТЪ рж╢рж┐ржХрзНрж╖рж╛: ржЕрж╕ржорзНржнржм ржмрж▓рзЗ ржХрж┐ржЫрзБ ржирзЗржЗ ржЖрж▓рзНрж▓рж╛рж╣рж░ ржХрж╛ржЫрзЗред`,

`ЁЯФе ржЧрж▓рзНржк рзк: ржЖржЧрзБржирзЗржУ ржирж┐рж░рж╛ржкржж

рж╣ржпрж░ржд ржЗржмрж░рж╛рж╣рж┐ржо (ржЖ.) ржХрзЗ ржЖржЧрзБржирзЗ ржирж┐ржХрзНрж╖рзЗржк ржХрж░рж╛ рж╣рж▓рзЗржУ ржЖрж▓рзНрж▓рж╛рж╣ ржЖржЧрзБржиржХрзЗ рж╢рзАрждрж▓ ржХрж░рзЗ ржжрзЗржиред

ЁЯТЪ рж╢рж┐ржХрзНрж╖рж╛: ржЖрж▓рзНрж▓рж╛рж╣ ржЪрж╛ржЗрж▓рзЗ ржЖржЧрзБржиржУ ржлрзБрж▓рзЗрж░ ржорждрзЛ ржирж░ржо рж╣ржпрж╝ред`,

`ЁЯРЛ ржЧрж▓рзНржк рзл: ржЕржирзНржзржХрж╛рж░рзЗрж░ ржжрзЛржпрж╝рж╛

рж╣ржпрж░ржд ржЗржЙржирзБрж╕ (ржЖ.) ржорж╛ржЫрзЗрж░ ржкрзЗржЯрзЗ ржерзЗржХрзЗржУ ржмрж▓рзЗржЫрж┐рж▓рзЗржитАФ
тАЬрж▓рж╛ ржЗрж▓рж╛рж╣рж╛ ржЗрж▓рзНрж▓рж╛ ржЖржирзНрждрж╛тАжтАЭ
ржЖрж▓рзНрж▓рж╛рж╣ рждрж╛ржБржХрзЗ ржорзБржХрзНрждрж┐ ржжрзЗржиред

ЁЯТЪ рж╢рж┐ржХрзНрж╖рж╛: ржжрзЛржпрж╝рж╛ ржХржЦржиржУ ржмрж┐ржлрж▓ рж╣ржпрж╝ ржирж╛ред`,

`ЁЯСС ржЧрж▓рзНржк рзм: ржЫрзЛржЯ ржЖржорж▓, ржмржбрж╝ ржорж░рзНржпрж╛ржжрж╛

ржПржХ ржмрзНржпржХрзНрждрж┐ ржкрзНрж░рждрж┐ржжрж┐ржи рж╢рзБржзрзБ ржПржХржЯрж┐ рж╕рзВрж░рж╛ ржнрж╛рж▓рзЛржмрзЗрж╕рзЗ ржкржбрж╝рждрзЗржиред
ржЖрж▓рзНрж▓рж╛рж╣ рждрж╛ржБрж░ ржЖржирзНрждрж░рж┐ржХрждрж╛ржпрж╝ ржЦрзБрж╢рж┐ рж╣ржиред

ЁЯТЪ рж╢рж┐ржХрзНрж╖рж╛: ржирж┐ржпрж╝ржд ржнрж╛рж▓рзЛ рж╣рж▓рзЗ ржЫрзЛржЯ ржХрж╛ржЬржУ ржмржбрж╝ рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝ред`,

`ЁЯМз ржЧрж▓рзНржк рзн: ржжрзЗрж░рж┐ ржорж╛ржирзЗ ржирж╛ ржмрж▓рж╛ ржиржпрж╝

ржПржХ рж╕рж╛рж╣рж╛ржмрж┐ ржжрзАрж░рзНржШржжрж┐ржи ржжрзЛржпрж╝рж╛ ржХрж░рзЗржУ ржлрж▓ ржкрж╛ржиржирж┐ред
рждрж┐ржирж┐ ржзрзИрж░рзНржп ржзрж░рж▓рзЗржиред
ржкрж░рзЗ ржмрзБржЭрж▓рзЗржитАФржЖрж▓рзНрж▓рж╛рж╣ рж╕рзЗрж░рж╛ рж╕ржоржпрж╝рзЗ ржжрж╛ржи ржХрж░рзЗржиред

ЁЯТЪ рж╢рж┐ржХрзНрж╖рж╛: ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕ржоржпрж╝ржЗ рж╕ржмржЪрзЗржпрж╝рзЗ ржЙрждрзНрждржоред`,

`ЁЯМЩ ржЧрж▓рзНржк рзо: ржЧрзЛржкржи ржжрж╛ржи

ржПржХ ржзржирзА ржмрзНржпржХрзНрждрж┐ ржЧрзЛржкржирзЗ ржжрж╛ржи ржХрж░рждрзЗржиред
ржХрзЗржЙ ржЬрж╛ржиржд ржирж╛ред
ржХрж┐ржирзНрждрзБ ржЖрж▓рзНрж▓рж╛рж╣ ржЬрж╛ржирждрзЗржиред

ЁЯТЪ рж╢рж┐ржХрзНрж╖рж╛: ржорж╛ржирзБрж╖рзЗрж░ ржкрзНрж░рж╢ржВрж╕рж╛ ржиржпрж╝, ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕ржирзНрждрзБрж╖рзНржЯрж┐ржЗ ржЖрж╕рж▓ред`,

`ЁЯМ║ ржЧрж▓рзНржк рзп: рж╣рж╛рж╕рж┐рж░ рж╕ржУржпрж╝рж╛ржм

рж╣ржпрж░ржд ржорзБрж╣рж╛ржорзНржоржж (рж╕рж╛.) ржмрж▓рзЗржЫрзЗржитАФ
рждрзЛржорж╛рж░ ржнрж╛ржЗржпрж╝рзЗрж░ ржжрж┐ржХрзЗ рж╣рж╛рж╕рж┐ржорзБржЦрзЗ рждрж╛ржХрж╛ржирзЛржУ рж╕ржжржХрж╛ред

ЁЯТЪ рж╢рж┐ржХрзНрж╖рж╛: ржЫрзЛржЯ ржнрж╛рж▓рзЛ ржХрж╛ржЬржУ рж╕ржУржпрж╝рж╛ржмрзЗрж░ ржХрж╛рж░ржгред`,

`ЁЯХК ржЧрж▓рзНржк рззрзж: ржХрж╖рзНржЯрзЗрж░ ржкрж░ рж╕рзБржЦ

ржПржХ ржорзБржорж┐ржи ржмрж▓рж▓рзЗржитАФтАЬржЖржорж┐ ржнрзЗржЩрзЗ ржкржбрж╝рзЗржЫрж┐редтАЭ
ржЙрждрзНрждрж░ ржПрж▓рзЛтАФтАЬржЖрж▓рзНрж▓рж╛рж╣ рждрзЛржорж╛ржХрзЗ ржЧржбрж╝ржЫрзЗржиредтАЭ

ЁЯТЪ рж╢рж┐ржХрзНрж╖рж╛: ржЖржЬржХрзЗрж░ ржнрж╛ржЩрж╛ ржоржи, ржХрж╛рж▓ржХрзЗрж░ рж╢ржХрзНржд ржИржорж╛ржиред`
      ];

      const randomStory = stories[Math.floor(Math.random() * stories.length)];

      // send message using api
      await api.sendMessage(
        `ЁЯМЩтЬи ржЗрж╕рж▓рж╛ржорж┐ржХ ржорзЛржЯрж┐ржнрзЗрж╢ржирж╛рж▓ ржЧрж▓рзНржк тЬиЁЯМЩ\n\n${randomStory}\n\nЁЯдН ржЖрж▓рзНрж▓рж╛рж╣ рждрзЛржорж╛рж░ ржоржи ржнрж╛рж▓рзЛ ржХрж░рзЗ ржжрж┐ржиред`,
        event.threadID
      );

    } catch (err) {
      console.error("Error sending Islamic story:", err);
      await api.sendMessage(`тЭМ ржХрж┐ржЫрзБ рж╕ржорж╕рзНржпрж╛ рж╣ржпрж╝рзЗржЫрзЗ: ${err.message}`, event.threadID);
    }
  }
};
